{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAoBC,SAASC,cAAc,SAC3CC,EAAmBF,SAASC,cAAc,UAC1CE,EAAO,GACb,IAAIC,EAAa,KACbC,EAAU,KAoBd,SAASC,IACPF,EAAaG,YAAYC,EAASL,EAAKM,MAGzC,SAASD,IAWT,IAAuBE,EAAUC,EAP/B,GAHAN,GAAW,EAUUK,EATPL,EASiBM,EATRR,EAAKQ,MAWNC,KAAKC,SAAW,GAGpCC,EAAAjB,GAASkB,OAAOC,QAAQ,uBAAqBN,QAAiBC,OAG9DG,EAAAjB,GAASkB,OAAOE,QAAQ,sBAAoBP,QAAeC,OAfzDN,IAAYa,OAAOC,SAAShB,EAAKiB,QAGjC,OAFFC,cAAcjB,QACdF,EAAiBoB,UAAW,GA5BhCvB,EAAkBwB,iBAAiB,UAOnC,SAAkBC,GAChBtB,EAAiBoB,UAAW,EAE5BE,EAAEC,iBAKFC,WAAWpB,EAAeH,EAAKQ,UAdjCZ,EAAkBwB,iBAAiB,SAEnC,SAAiBC,GACfrB,EAAKqB,EAAEG,OAAOC,MAAQJ,EAAEG,OAAOE","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst createPromiseForm = document.querySelector('.form');\nconst createPromiseBtn = document.querySelector('button');\nconst data = {};\nlet intervalId = null;\nlet counter = null;\n\ncreatePromiseForm.addEventListener('submit', onSubmit);\ncreatePromiseForm.addEventListener('input', onInput);\n\nfunction onInput(e) {\n  data[e.target.name] = e.target.value\n}\n\nfunction onSubmit(e) {\n  createPromiseBtn.disabled = true\n\n  e.preventDefault();\n  createFirstPromise()\n}\n\nfunction createFirstPromise() {\n  setTimeout(startInterval, data.delay)\n}\n\nfunction startInterval() {\n  intervalId = setInterval(startFn, data.step);  \n}\n\nfunction startFn() {\n  counter += 1;\n  createPromise(counter, data.delay)\n\n  if (counter === Number.parseInt(data.amount)) {\n    clearInterval(intervalId)\n    createPromiseBtn.disabled = false\n      return;\n    }\n}\n\nfunction createPromise(position, delay) {\n  \n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    // Fulfill\n    Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  } else {\n    // Reject\n    Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n  }\n}\n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$createPromiseForm","document","querySelector","$47d4ff9957288465$var$createPromiseBtn","$47d4ff9957288465$var$data","$47d4ff9957288465$var$intervalId","$47d4ff9957288465$var$counter","$47d4ff9957288465$var$startInterval","setInterval","$47d4ff9957288465$var$startFn","step","position","delay","Math","random","$parcel$interopDefault","Notify","success","failure","Number","parseInt","amount","clearInterval","disabled","addEventListener","e","preventDefault","setTimeout","target","name","value"],"version":3,"file":"03-promises.afb28f28.js.map"}