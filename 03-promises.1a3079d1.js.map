{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAoBC,SAASC,cAAc,SAC3CC,EAAmBF,SAASC,cAAc,UAC1CE,EAAO,GACTC,EAAa,KACbC,EAAU,KAoBd,SAASC,IACPF,EAAaG,YAAYC,EAASL,EAAKM,MAGzC,SAASD,IAWT,IAAuBE,EAAUC,EAP/B,GAOqBD,EAVrBL,GAAW,EAUoBM,EATRR,EAAKQ,MAWNC,KAAKC,SAAW,GAGpCC,EAAAjB,GAASkB,OAAOC,QAAQ,uBAAwCC,OAAfP,EAAS,QAAYO,OAANN,EAAM,OAGtEG,EAAAjB,GAASkB,OAAOG,QAAQ,sBAAqCD,OAAfP,EAAS,QAAYO,OAANN,EAAM,OAfjEN,IAAYc,OAAOC,SAASjB,EAAKkB,QAGjC,OAFFC,cAAclB,QACdF,EAAiBqB,UAAW,GA5BhCxB,EAAkByB,iBAAiB,UAOnC,SAAkBC,GAChBvB,EAAiBqB,UAAW,EAE5BE,EAAEC,iBAKFC,WAAWrB,EAAeH,EAAKQ,UAdjCZ,EAAkByB,iBAAiB,SAEnC,SAAiBC,GACftB,EAAKsB,EAAEG,OAAOC,MAAQJ,EAAEG,OAAOE,S","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst createPromiseForm = document.querySelector('.form');\nconst createPromiseBtn = document.querySelector('button');\nconst data = {};\nlet intervalId = null;\nlet counter = null;\n\ncreatePromiseForm.addEventListener('submit', onSubmit);\ncreatePromiseForm.addEventListener('input', onInput);\n\nfunction onInput(e) {\n  data[e.target.name] = e.target.value\n}\n\nfunction onSubmit(e) {\n  createPromiseBtn.disabled = true\n\n  e.preventDefault();\n  createFirstPromise()\n}\n\nfunction createFirstPromise() {\n  setTimeout(startInterval, data.delay)\n}\n\nfunction startInterval() {\n  intervalId = setInterval(startFn, data.step);  \n}\n\nfunction startFn() {\n  counter += 1;\n  createPromise(counter, data.delay)\n\n  if (counter === Number.parseInt(data.amount)) {\n    clearInterval(intervalId)\n    createPromiseBtn.disabled = false\n      return;\n    }\n}\n\nfunction createPromise(position, delay) {\n  \n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    // Fulfill\n    Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  } else {\n    // Reject\n    Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n  }\n}\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$createPromiseForm","document","querySelector","$ce04d3a99e08e73b$var$createPromiseBtn","$ce04d3a99e08e73b$var$data","$ce04d3a99e08e73b$var$intervalId","$ce04d3a99e08e73b$var$counter","$ce04d3a99e08e73b$var$startInterval","setInterval","$ce04d3a99e08e73b$var$startFn","step","position","delay","Math","random","$parcel$interopDefault","Notify","success","concat","failure","Number","parseInt","amount","clearInterval","disabled","addEventListener","e","preventDefault","setTimeout","target","name","value"],"version":3,"file":"03-promises.1a3079d1.js.map"}